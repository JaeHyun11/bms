<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="admin.goods">
	
	<select id="selectListGoods" resultType="GoodsDto" >
		SELECT 
	   			*
	    FROM 
				GOODS 	            		       
	</select>
	
	<insert id="insertGoods" parameterType="GoodsDto">
		    INSERT INTO 
		  			GOODS (
						GOODS_CD,
					    GOODS_GROUP,
						GOODS_CATEGORY,
						GOODS_INFO,
						GOODS_FILE_NAME,
						PRICE,
						DISCOUNT_RATE,
						STOCK,
						POINT,
						DELIVERY_PRICE,
						GOODS_FILE_NAME,
						ENROLL_DT				  			
		  			)
		    VALUES (
			        #{goodsCd},
				    #{goodsGroup},
				    #{goodsCategory},
				    #{goodsInfo},
				    #{goodsFileName},
				    #{price},
				    #{discountRate},
					#{stock},
					#{point},
					#{deliveryPrice},
					#{enrollDt},
					NOW()
 			 )
	</insert> 
	
	<update id="updateGoods" parameterType="GoodsDto" >
	   UPDATE 
	   			GOODS
	   <set> 
	      <if test='goodsCd != null and goodsCd != ""'>
	        GOODS_CD = #{goodsCd},
	      </if>
	      <if test='goodsGroup != null and goodsGroup != ""'>
	        GOODS_GROUP = #{goodsGroup},
	      </if>
	      <if test='goodsCategory != null and goodsCategory != ""'>
	        GOODS_CATEGORY = #{goodsCategory},
	      </if>
	      <if test='goodsInfo != null and goodsInfo != ""'>
	        GOODS_INFO = #{goodsInfo},
	      </if>
	      <if test='goodsFileName != null and goodsFileName != ""'>
	        GOODS_FILE_NAME = #{goodsFileName},
	      </if>
	      <if test='price != null and price != ""'>
	        PRICE = #{price},
	      </if>
	      <if test='discountRate != null and discountRate != ""'>
	        DISCOUNT_RATE = #{discountRate},
	      </if>
	      <if test='point != null and point != ""'>
	        STOCK = #{point},
	      </if>
	      <if test='deliveryPrice != null and deliveryPrice != ""'>
	        DELIVERY_PRICE = #{deliveryPrice},
	      </if>
	      <if test='enrollDt != null'>
	        ENROLL_DT = #{enrollDt},
	      </if>
	    </set>
		WHERE 
				GOODS_CD = #{goodsCd}
	</update>	
		
	<delete id="deleteGoods" parameterType="int">
		DELETE FROM GOODS WHERE GOODS_CD = #{goodsCd}
	</delete>	
		
</mapper>
